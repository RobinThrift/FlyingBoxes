(function(){requirejs.config({baseUrl:"/scripts/vendor",paths:{c:"../components",babylon:"babylon.1.6.0"},shim:{lodash:{exports:"_"},"KeyboardJS/keyboard.js":{exports:"KeyboardJS"},babylon:{exports:"BABYLON",deps:["hand-1.1.3"]},"zepto.js":{exports:"$"}}}),requirejs(["babylon","KeyboardJS/keyboard","zepto","lodash","c/bits","c/stage","c/camera","c/light","c/spawner","c/bentity","c/gui"],function(o,e,t,n,a,r,i,s,l,d){var c,g,b,p,u,h,y,m,w;return w=new r("screen"),u=new d("player","box",{size:.4,pos:[0,-3.5,0],Zscaling:.3,Xscaling:2,Yscaling:1.1,colour:{r:1,g:0,b:.23}},{left:function(){return u.getPosition().x>-3.5?u.move(-.2):void 0},right:function(){return u.getPosition().x<3.5?u.move(.2):void 0},f:function(){return u.mesh.rotation.addInPlace(new o.Vector3(-.1,-.1,-.01))},g:function(){return u.mesh.rotation=new o.Vector3(0,0,0)}},c=new d("bgPlane","plane",{size:100,pos:[0,0,20],specularColour:{r:1,g:0,b:.23},colour:{r:1,g:.4,b:.1}})),b=new i("mainCam","free",{pos:[0,0,-10],controls:!1}),p=new s("hemi","mainLight",{pos:[0,0,0],colour:a.rgbToFloatObj(144,202,97)}),h=new s("spot","spot1",{pos:[-3,-2,-2],to:[0,-1.5,2],debug:!1,angle:10,decay:10,colour:a.rgbToFloatObj(221,0,0)}),y=new s("spot","spot2",{pos:[0,-2,-2],to:[0,-1.5,2],debug:!1,angle:10,decay:10,colour:a.rgbToFloatObj(255,0,255)}),m=new s("spot","spot3",{pos:[3,-2,-2],to:[0,-1.5,2],debug:!1,angle:10,decay:10,colour:a.rgbToFloatObj(0,0,255)}),g=new l({limit:30,interval:30,emit:function(o,e,t,n,r){var i,s,l,c,g,b;for(c=0,g=e.length;g>c;c++)i=e[c],t>n&&(l=new d("b",i.type,i),r.push(l),w.addEntity(l),s=a.randInt(0,10),s=null!=(b=Math.random()>.5)?b:-s-{2:s+3},l.setPosition(s,10,0),n++);return n},update:function(o){var e,t;return o.getPosition().y>-8?o.move(0,-.1,0):(e=a.randInt(0,10),e=null!=(t=Math.random()>.5)?t:-e-{2:e+3},o.setPosition(e,10,0))}}),g.addToPool({type:"box",size:.4,pos:[0,0,0],Zscaling:.3,Xscaling:2,Yscaling:1.1,colour:{r:1,g:0,b:.23}}),w.addSpawner(g),w.addCamera(b),w.addLight(p),w.addLight(h),w.addLight(y),w.addLight(m),w.addEntity(u),w.addEntity(c),w.loop()})}).call(this);